Changes to Proxool
----------------

$Revision: 1.13 $
$Date: 2003/01/22 17:33:57 $
$Author: billhorsman $

0.6 (January 22, 2003)

- ProxoolFacade API has changed slightly. Some of the methods no
  longer throw an SQLException but a ProxoolException instead.
  This might lead to some small changes in your code.

- There used to be some ambiguity about whether you referred to a
  pool by its alias or its full url (when using ProxoolFacade). This has
  now been fixed. This means you can now change the url (to use a
  different database for instance) without creating a new pool.

- Version information is now logged so you can tell what version of
  Proxool you are using.

- ConnectionPoolStatisticsIF now reports the time the pool was started.

- We now use FastArrayList (from Jakarta Commons) instead of the
  JDK's Vector for improved collection support.

- New XMLConfigurator and PropertyConfigurator to make it easy
  to configure proxool from a file.

- New ConfigurationListenerIF interface allows you to implement persistent
  configuration

- Bug fix for JDBC drivers that implement the Statement interface
  indirectly (that is, extend a class that implements it rather than 
  implementing it directly). (Credit to Martin Crawford).

- Unclosed Statements are now automatically closed when the
  Connection is closed, in accordance with the JDBC spec.

- Rollback is called on all connections when they are closed (that is,
  returned to the pool). This has no effect if autoCommit it true (default)
  or any pending transactions have been committed or already rolled back.
  This will only have an effect if you currently close connections with
  pending transactions. 

- New ProxoolFacade#getDelegateStatement allows you to get to
  the underlying JDBC Driver's original Statement if you really need
  to. (This isn't recommended unless you have no other choice).

- You can now update the URL for a pool, not just the properties.
  See ProxoolFacade#updateConnectionPool.

0.5 (December 3, 2002)

- Fix finalisation of old instances. If you deploy to some environments in
  a certain way then it is possible for the class to be reloaded without the
  finalize() method being called. This will result in spurious house keeping
  threads remaining. The new ReloadMonitor avoids this.

- Various improvements to the logging to make it more informative and
  cleaner.

- Checkstyle improvements. We now enforce variable names and line length.
  Javadoc enforcement to come soon.

- Made the onBirth() method of ConnectionListenerIF interface failsafe. And
  removed obsolete cleanupClob() method (which was never called anyway)..

- Removed redundant logFilename stuff from ConnectionPoolDefinition. All
  logging is handled by Jakarta Commons's Logging anyway.

- Fix when removing pools that meant that when you tried to add them again
  Proxool thought it was a duplicate (Credit to Dan Milstein).

- Improvements to the way Proxool detects changes to the pool definition
  when resending the Properties object when you get a connection. Now
  detects when it has changed which means that we don't do
  unnecessary configuration and log is improved (we now log properties
  as they are set or updated).

- Fix to the ProxyConnection within the equals() method that was causing
  identical conections to be incorrectly reported as unequal (which leads to
  problems when adding them to some collections).

- Improvements to test classes. Lots more tests.

- Added support for resetting connection properties when it is returned to
  the pool (autoCommit, catalog, readOnly, transactionIsolation, typeMap
  and holdability). These  properties are reset to the values when the connection
  was made everytime it is returned. (credit to Tim Morley)

- Connection.isClosed() now returns true when it is back in the pool.

- New trace property allows you to log each execution, the SQL, the parameters
  used, and the execution time (DEBUG level). Use proxool.trace=true property.
  You can also get this information if you register a ConnectionListenerIF (use
  ProxoolFacade's setConnectionListener() method). This won't effect performance
  if you're not listening or have trace off.

- Prototyping is now off by default. To enable prototyping you need to set the
  proxool.prototype-count property to something sensible (like 5, for instance).
  [Prototyping is where spare connections are when the number of available
  connections approaches zero.]

- Fix for catching fatal SQL exceptions. This is a feature that throws away connections
  that encounter certain types of exception.

0.4 - September 19, 2002

- Rethink of how we organise our source code so that we can easily build
  to include different optional components.

- Use the Jakarta Commons' ultra-thin log wrapper. This allows you to
  plugin whatever logging component you like.

- Switched to use of the Proxy class so that we are not tied to a particular
  version of the JDK. However, this does mean a bit of patching to work with
  JDK 1.2 (Proxy was introduced in 1.3). Fortunately, this patch is handled
  easily using Ant.

- Test classes now make use of Hypersonic. A pure Java database with a very
  small footprint. This means we can run the tests without having to rely on
  the existence of a separate database.

- Layout and code style changes in accordance with CheckStyle

- New XMLConfigurator using JAXP to configure your connection pools.

- Improvments in Junit testing.

